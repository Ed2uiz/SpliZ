process {
  executor = 'slurm'
  clusterOptions = '-p quake,horence,owners'

  memory = { 1.GB * task.attempt }
  time = { 1.h * task.attempt }
  errorStrategy = { task.exitStatus in [143,137,104,134,139] ? 'retry' : 'finish' }
  maxRetries = 3
}

params {
  dataname = "test"
  input_file = "/scratch/groups/horence/kaitlin/spliz_nextflow/nf-core-spliz/test_data/test.tsv"
  SICILIAN = true
  pin_S = 0.1
  pin_z = 0.0
  bounds = 5
  light = false
  svd_type = "normdonor"
  n_perms = 100
  grouping_level_2 = "compartment"
  grouping_level_1 = "tissue"
  libraryType = "10X"
  run_analysis = true
  annotator_pickle = "/oak/stanford/groups/horence/Roozbeh/single_cell_project/SICILIAN_references/human/SICILIAN_human_hg38_Refs/annotator_pickle_file/hg38_refseq.pkl"
  exon_pickle = "/oak/stanford/groups/horence/Roozbeh/single_cell_project/SICILIAN_references/human/SICILIAN_human_hg38_Refs/exon_pickle_file/hg38_refseq_exon_bounds.pkl"
  splice_pickle = "/oak/stanford/groups/horence/Roozbeh/single_cell_project/SICILIAN_references/human/SICILIAN_human_hg38_Refs/splice_pickle_file/hg38_refseq_splices.pkl"
  gtf = "/oak/stanford/groups/horence/Roozbeh/single_cell_project/SICILIAN_references/human/GCF_000001405.39_GRCh38.p13_genomic.gtf"
}

params.outdir = "./results/${params.dataname}"
params.tracedir = "./results/${params.dataname}/pipeline_info"
params.schema_ignore_params = "input,single_end,show_hidden_params,validate_params,igenomes_ignore,tracedir,igenomes_base,help,monochrome_logs,plaintext_email,max_multiqc_email_size,email_on_fail,email,multiqc_config,publish_dir_mode,genome,genomes" 

tower {
 enabled = true
}